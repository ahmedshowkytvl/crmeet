# ูุธุงู ุฅุฏุงุฑุฉ ุงูุนูููุงุช (Operations Management System)

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ูุธุงู ุฅุฏุงุฑุฉ ุงูุนูููุงุช ูู EET Global Management System ููุฑุงูุจุฉ ูุชุญููู ุฌููุน ุงูุนูููุงุช ุงูุชู ูุชู ุชูููุฐูุง ูู ุงููุธุงู. ูููุฑ ูุฐุง ุงููุธุงู ุดูุงููุฉ ูุงููุฉ ููุฑุงูุจุฉ ุดุงููุฉ ูุฌููุน ุฃูุดุทุฉ ุงููุณุชุฎุฏููู.

## ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ ูุฑุงูุจุฉ ุดุงููุฉ
- ุชุณุฌูู ุฌููุน ุงูุนูููุงุช (ุฅูุดุงุกุ ุชุญุฏูุซุ ุญุฐูุ ุนุฑุถุ ุชุณุฌูู ุฏุฎูู/ุฎุฑูุฌ)
- ุชุชุจุน ุงููุณุชุฎุฏููู ูุงูุฃุฏูุงุฑ
- ูุฑุงูุจุฉ ุงููุญุฏุงุช ุงููุฎุชููุฉ ูู ุงููุธุงู
- ุชุณุฌูู ุนูุงููู IP ููุนูููุงุช ุงูุฃุฌูุฒุฉ

### ๐ ุชุญูููุงุช ูุฅุญุตุงุฆูุงุช
- ุฅุญุตุงุฆูุงุช ุงูุนูููุงุช ุงูููููุฉ
- ุฃูุซุฑ ุงููุณุชุฎุฏููู ูุดุงุทุงู
- ุฃููุงุน ุงูุนูููุงุช ุงูุฃูุซุฑ ุดููุนุงู
- ูุนุฏู ูุฌุงุญ/ูุดู ุงูุนูููุงุช

### ๐ ููุงุชุฑ ูุชูุฏูุฉ
- ููุชุฑุฉ ุญุณุจ ุงููุณุชุฎุฏู
- ููุชุฑุฉ ุญุณุจ ููุน ุงูุนูููุฉ
- ููุชุฑุฉ ุญุณุจ ุงููุญุฏุฉ
- ููุชุฑุฉ ุญุณุจ ุงูุชุงุฑูุฎ
- ููุชุฑุฉ ุญุณุจ ุงูุญุงูุฉ (ูุฌุญ/ูุดู)
- ุจุญุซ ูุตู ูู ุงูุชูุงุตูู

### ๐ค ุชุตุฏูุฑ ุงูุจูุงูุงุช
- ุชุตุฏูุฑ ุฅูู CSV
- ุชุตุฏูุฑ ูุน ุงูููุงุชุฑ ุงููุทุจูุฉ
- ุญูุธ ุชููุงุฆู ููุจูุงูุงุช

## ุงููููุงุช ุงูููุดุฃุฉ

### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **Migration**: `2025_01_20_000000_create_audit_logs_table.php`
- **Model**: `app/Models/AuditLog.php`

### 2. ุงูุชุญูู
- **Controller**: `app/Http/Controllers/AuditController.php`
- **Service**: `app/Services/AuditService.php`
- **Helper**: `app/Helpers/AuditHelper.php`
- **Middleware**: `app/Http/Middleware/AuditLogging.php`

### 3. ุงููุงุฌูุงุช
- **View**: `resources/views/audit/index.blade.php`
- **Routes**: ุชู ุฅุถุงูุชูุง ูู `routes/web.php`

### 4. ุงูุตูุงุญูุงุช
- **Seeder**: `database/seeders/AuditPermissionsSeeder.php`
- **Command**: `app/Console/Commands/CleanupAuditLogs.php`

## ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู `audit_logs`

| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|-------|--------|
| `id` | bigint | ุงููุนุฑู ุงููุฑูุฏ |
| `user_id` | bigint | ูุนุฑู ุงููุณุชุฎุฏู |
| `user_name` | varchar | ุงุณู ุงููุณุชุฎุฏู |
| `user_role` | varchar | ุฏูุฑ ุงููุณุชุฎุฏู |
| `action_type` | varchar | ููุน ุงูุนูููุฉ |
| `module` | varchar | ุงููุญุฏุฉ |
| `record_id` | bigint | ูุนุฑู ุงูุณุฌู |
| `record_name` | varchar | ุงุณู ุงูุณุฌู |
| `details` | json | ุงูุชูุงุตูู |
| `ip_address` | varchar | ุนููุงู IP |
| `device_info` | varchar | ูุนูููุงุช ุงูุฌูุงุฒ |
| `user_agent` | varchar | User Agent |
| `status` | enum | ุงูุญุงูุฉ (success/failed) |
| `created_at` | timestamp | ุชุงุฑูุฎ ุงูุฅูุดุงุก |

## ุงูุงุณุชุฎุฏุงู

### 1. ุงููุตูู ููุตูุญุฉ
- ุงูุชูู ุฅูู "ุฅุฏุงุฑุฉ ุงูุนูููุงุช" ูู ุงูุดุฑูุท ุงูุฌุงูุจู
- ุงูุตูุญุฉ ูุชุงุญุฉ ูููุฏูุฑูู ููุฏูุฑู ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ

### 2. ุงูููุชุฑุฉ ูุงูุจุญุซ
- ุงุณุชุฎุฏู ุงูููุงุชุฑ ูู ุฃุนูู ุงูุตูุญุฉ
- ุงุจุญุซ ูู ุงููุต ุจุงุณุชุฎุฏุงู ูุฑุจุน ุงูุจุญุซ
- ุญุฏุฏ ูุทุงู ุฒููู ููุนูููุงุช

### 3. ุนุฑุถ ุงูุชูุงุตูู
- ุงููุฑ ุนูู "ุนุฑุถ ุงูุชูุงุตูู" ูุนุฑุถ ุชูุงุตูู ูุงููุฉ ููุนูููุฉ
- ูุดูู ุงูุชูุงุตูู: ุงูุจูุงูุงุช ุงููุฏููุฉ/ุงูุฌุฏูุฏุฉุ ูุนูููุงุช ุงูุดุจูุฉุ ุงูุชูููุช

### 4. ุงูุชุตุฏูุฑ
- ุงููุฑ ุนูู "ุชุตุฏูุฑ ุงูุจูุงูุงุช" ูุชุญููู ููู CSV
- ูุชู ุชุตุฏูุฑ ุงูุจูุงูุงุช ูุน ุงูููุงุชุฑ ุงููุทุจูุฉ

## Helper Functions

### ุชุณุฌูู ุงูุนูููุงุช
```php
// ุชุณุฌูู ุนูููุฉ ุนุงูุฉ
audit_log($user, 'create', 'employees', $recordId, $recordName, $details);

// ุชุณุฌูู ุนูููุฉ CRUD
audit_crud('create', 'employees', $model, [], $newData);

// ุชุณุฌูู ุชุณุฌูู ุฏุฎูู
audit_login($user, true);

// ุชุณุฌูู ุชุณุฌูู ุฎุฑูุฌ
audit_logout($user);

// ุชุณุฌูู ูุฌุงุญ
audit_success('create', 'employees', 'ุชู ุฅูุดุงุก ุงูููุธู ุจูุฌุงุญ', $user, $model);

// ุชุณุฌูู ูุดู
audit_failure('create', 'employees', 'ุฎุทุฃ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช', $user, $model);
```

### ุฃููุงุน ุงูุนูููุงุช ุงููุฏุนููุฉ
- `create` - ุฅูุดุงุก
- `update` - ุชุญุฏูุซ
- `delete` - ุญุฐู
- `view` - ุนุฑุถ
- `login` - ุชุณุฌูู ุฏุฎูู
- `logout` - ุชุณุฌูู ุฎุฑูุฌ
- `export` - ุชุตุฏูุฑ
- `import` - ุงุณุชูุฑุงุฏ
- `archive` - ุฃุฑุดูุฉ
- `restore` - ุงุณุชุนุงุฏุฉ
- `approve` - ููุงููุฉ
- `reject` - ุฑูุถ
- `assign` - ุชุนููู
- `unassign` - ุฅูุบุงุก ุชุนููู

## ุงูุตูุงุญูุงุช

### ุงูุตูุงุญูุงุช ุงููุทููุจุฉ
- `view-audit-logs` - ุนุฑุถ ุณุฌู ุงูุนูููุงุช
- `export-audit-logs` - ุชุตุฏูุฑ ุณุฌู ุงูุนูููุงุช
- `manage-audit-settings` - ุฅุฏุงุฑุฉ ุฅุนุฏุงุฏุงุช ุงูุชุฏููู

### ุงูุฃุฏูุงุฑ ุงููุฏุนููุฉ
- **Admin**: ุฌููุน ุงูุตูุงุญูุงุช
- **HR**: ุนุฑุถ ุณุฌู ุงูุนูููุงุช
- **Manager**: ุนุฑุถ ุณุฌู ุงูุนูููุงุช

## ุงูุตูุงูุฉ

### ุชูุธูู ุงูุณุฌูุงุช ุงููุฏููุฉ
```bash
# ุชูุธูู ุงูุณุฌูุงุช ุงูุฃูุฏู ูู 90 ููู
php artisan audit:cleanup --days=90

# ุชูุธูู ุงูุณุฌูุงุช ุงูุฃูุฏู ูู 30 ููู
php artisan audit:cleanup --days=30
```

### ุฅุญุตุงุฆูุงุช ุงููุธุงู
```php
$auditService = app(AuditService::class);
$stats = $auditService->getStatistics([
    'date_from' => '2025-01-01',
    'date_to' => '2025-01-31'
]);
```

## ุงูุชุฎุตูุต

### ุฅุถุงูุฉ ุฃููุงุน ุนูููุงุช ุฌุฏูุฏุฉ
1. ุฃุถู ุงูููุน ุงูุฌุฏูุฏ ูู `AuditLog` model
2. ุญุฏุซ `getFormattedActionTypeAttribute()` method
3. ุฃุถู ุงูุชุฑุฌูุฉ ูู ุงููุงุฌูุฉ

### ุฅุถุงูุฉ ูุญุฏุงุช ุฌุฏูุฏุฉ
1. ุฃุถู ุงููุญุฏุฉ ุงูุฌุฏูุฏุฉ ูู `AuditLog` model
2. ุญุฏุซ `getFormattedModuleAttribute()` method
3. ุฃุถู ุงูุชุฑุฌูุฉ ูู ุงููุงุฌูุฉ

### ุชุฎุตูุต Middleware
ูููู ุชุฎุตูุต `AuditLogging` middleware ูุชุณุฌูู ุนูููุงุช ุฅุถุงููุฉ ุฃู ุชุฎุทู ุนูููุงุช ูุนููุฉ.

## ุงูุฃูุงู

- ุฌููุน ุงูุนูููุงุช ูุญููุฉ ุจุตูุงุญูุงุช ุงููุณุชุฎุฏู
- ูุง ูุชู ุชุณุฌูู ูููุงุช ุงููุฑูุฑ ุฃู ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- ูุชู ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ ูู ุงูุชูุงุตูู
- ุชูุธูู ุฏูุฑู ููุณุฌูุงุช ุงููุฏููุฉ

## ุงูุฏุนู ุงูููู

ููุญุตูู ุนูู ุงูุฏุนู ุงูููู ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงููุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ.

---

**ุชู ุฅูุดุงุก ูุฐุง ุงููุธุงู ุจูุงุณุทุฉ ูุฑูู ุชุทููุฑ EET Global Management System**
