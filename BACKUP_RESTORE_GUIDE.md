# ุฏููู ุงููุณุฎ ุงูุงุญุชูุงุทู ูุงูุงุณุชุนุงุฏุฉ ุงููุงูู

ุฏููู ุดุงูู ูุงุณุชุฎุฏุงู ุณูุฑูุจุชุงุช ุงููุณุฎ ุงูุงุญุชูุงุทู ูุงูุงุณุชุนุงุฏุฉ ูููุดุฑูุน.

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงููุดุฑูุน ูุญุชูู ุนูู ุณูุฑูุจุชุงุช ูุชูุงููุฉ ูุฅุฏุงุฑุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ูุงูุงุณุชุนุงุฏุฉ:

### ุณูุฑูุจุชุงุช ุงููุณุฎ ุงูุงุญุชูุงุทู ูุงูุฑูุน:
- `backup_and_push.sh` / `backup_and_push.bat` / `backup_and_push.php`
- ุชุฃุฎุฐ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชุฑูุน ุงููุดุฑูุน ูุงููุงู ุนูู Git (ูุชุถูู ูุงุนุฏุฉ ุงูุจูุงูุงุช)

### ุณูุฑูุจุชุงุช ุงูุงุณุชุนุงุฏุฉ:
- `restore_from_git.sh` / `restore_from_git.bat` / `restore_from_git.php`
- ุชุณุชุนูุฏ ุงููุดุฑูุน ูู Git
- ุชุญุฏุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### 1. ุฃุฎุฐ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุฑูุน ุนูู Git

**Linux/Mac/Git Bash:**
```bash
./backup_and_push.sh
```

**Windows:**
```cmd
backup_and_push.bat
```

**PHP (ุฌููุน ุงูุฃูุธูุฉ):**
```bash
php backup_and_push.php
```

### 2. ุงุณุชุนุงุฏุฉ ูู Git ูุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช

**Linux/Mac/Git Bash:**
```bash
./restore_from_git.sh
```

**Windows:**
```cmd
restore_from_git.bat
```

**PHP (ุฌููุน ุงูุฃูุธูุฉ):**
```bash
php restore_from_git.php
```

## ๐ ูููู ุงููููุงุช

```
CRM/
โโโ backup_and_push.sh          # ุณูุฑูุจุช ุงููุณุฎ ุงูุงุญุชูุงุทู (Bash)
โโโ backup_and_push.bat         # ุณูุฑูุจุช ุงููุณุฎ ุงูุงุญุชูุงุทู (Windows)
โโโ backup_and_push.php         # ุณูุฑูุจุช ุงููุณุฎ ุงูุงุญุชูุงุทู (PHP)
โโโ restore_from_git.sh         # ุณูุฑูุจุช ุงูุงุณุชุนุงุฏุฉ (Bash)
โโโ restore_from_git.bat        # ุณูุฑูุจุช ุงูุงุณุชุนุงุฏุฉ (Windows)
โโโ restore_from_git.php        # ุณูุฑูุจุช ุงูุงุณุชุนุงุฏุฉ (PHP)
โโโ database_backups/           # ูุฌูุฏ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
โ   โโโ README.md
โ   โโโ {database}_backup_{timestamp}.sql.gz
โโโ BACKUP_AND_PUSH_README.md   # ุฏููู ุงููุณุฎ ุงูุงุญุชูุงุทู
โโโ RESTORE_FROM_GIT_README.md  # ุฏููู ุงูุงุณุชุนุงุฏุฉ
โโโ BACKUP_RESTORE_GUIDE.md    # ูุฐุง ุงูููู
```

## ๐ ุณูุฑ ุงูุนูู ุงููุงูู

### ุงูุณููุงุฑูู 1: ุงููุณุฎ ุงูุงุญุชูุงุทู ูุงูุฑูุน

```mermaid
graph LR
    A[ุชุดุบูู backup_and_push] --> B[ูุฑุงุกุฉ .env]
    B --> C[ุฃุฎุฐ ูุณุฎุฉ ุงุญุชูุงุทูุฉ]
    C --> D[ุถุบุท ุงูููู]
    D --> E[ุฅุถุงูุฉ ุฅูู Git]
    E --> F[Commit]
    F --> G[Push ุฅูู Git]
```

**ุงูุฎุทูุงุช:**
1. ููุฑุฃ ุงูุณูุฑูุจุช ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู `.env`
2. ูุฃุฎุฐ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ูุถุบุท ุงูููู ูุชูููุฑ ุงููุณุงุญุฉ
4. ูุญูุธ ุงููุณุฎุฉ ูู `database_backups/`
5. ูุถูู ุฌููุน ุงููููุงุช (ุจูุง ูู ุฐูู ูุงุนุฏุฉ ุงูุจูุงูุงุช) ุฅูู Git
6. ูุนูู commit ูุน ุฑุณุงูุฉ ุชุญุชูู ุนูู ุงูุชุงุฑูุฎ ูุงูููุช
7. ูุฑูุน ุงูุชุบููุฑุงุช ุฅูู Git

### ุงูุณููุงุฑูู 2: ุงูุงุณุชุนุงุฏุฉ ูุงูุชุญุฏูุซ

```mermaid
graph LR
    A[ุชุดุบูู restore_from_git] --> B[ุงูุจุญุซ ุนู ุฃุญุฏุซ backup]
    B --> C[Git Pull]
    C --> D[ูู ุงูุถุบุท]
    D --> E[ุงูุชุญุฐูุฑ ูุงูุชุฃููุฏ]
    E --> F[ุงุณุชุนุงุฏุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช]
    F --> G[ุชูุธูู ุงููููุงุช ุงููุคูุชุฉ]
```

**ุงูุฎุทูุงุช:**
1. ูุจุญุซ ุงูุณูุฑูุจุช ุนู ุฃุญุฏุซ ูุณุฎุฉ ุงุญุชูุงุทูุฉ
2. ูุณุชุนูุฏ ุงููุดุฑูุน ูู Git (git pull)
3. ููู ุงูุถุบุท ุฅุฐุง ูุงู ุงูููู ูุถุบูุทุงู
4. ูุญุฐุฑ ูู ุงุณุชุจุฏุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุทูุจ ุงูุชุฃููุฏ
5. ูุณุชุนูุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ
6. ููุธู ุงููููุงุช ุงููุคูุชุฉ

## ๐ก ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

### ุญุงูุฉ 1: ูุณุฎ ุงุญุชูุงุทู ูููู
```bash
# ุฅุถุงูุฉ ุฅูู crontab (Linux/Mac)
0 2 * * * cd /path/to/project && ./backup_and_push.sh

# ุฃู ุงุณุชุฎุฏุงู Task Scheduler (Windows)
# ุฌุฏููุฉ backup_and_push.bat ููููุงู ูู ุงูุณุงุนุฉ 2 ุตุจุงุญุงู
```

### ุญุงูุฉ 2: ุงุณุชุนุงุฏุฉ ุนูู ุฎุงุฏู ุฌุฏูุฏ
```bash
# 1. ุงุณุชูุณุงุฎ ุงููุดุฑูุน
git clone https://github.com/username/repo.git

# 2. ุชุซุจูุช ุงูุชุจุนูุงุช
composer install
npm install

# 3. ูุณุฎ ููู .env
cp .env.example .env

# 4. ุชุนุฏูู ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู .env

# 5. ุงุณุชุนุงุฏุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
./restore_from_git.sh
```

### ุญุงูุฉ 3: ุงุณุชุนุงุฏุฉ ุจุนุฏ ุฎุทุฃ
```bash
# 1. ุงุณุชุนุงุฏุฉ ุงููุดุฑูุน ูู Git
./restore_from_git.sh

# 2. ุงุฎุชูุงุฑ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ุงูููุงุณุจุฉ
# (ุงูุณูุฑูุจุช ูุฎุชุงุฑ ุงูุฃุญุฏุซ ุชููุงุฆูุงู)
```

## โ๏ธ ุงูุฅุนุฏุงุฏุงุช

### ููู .env

ุชุฃูุฏ ูู ูุฌูุฏ ุงูุฅุนุฏุงุฏุงุช ุงูุชุงููุฉ ูู `.env`:

```env
DB_CONNECTION=mysql          # ุฃู pgsql
DB_HOST=127.0.0.1
DB_PORT=3306                 # ุฃู 5432 ูู PostgreSQL
DB_DATABASE=your_database
DB_USERNAME=your_username
DB_PASSWORD=your_password
```

### Git Configuration

ุชุฃูุฏ ูู ุฅุนุฏุงุฏ Git ุจุดูู ุตุญูุญ:

```bash
git config --global user.name "Your Name"
git config --global user.email "your.email@example.com"
```

## ๐ ุงูุฃูุงู

### ูุตุงุฆุญ ุงูุฃูุงู:

1. **ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ**:
   - ูุง ุชุฑูุน ูุณุฎ ุงุญุชูุงุทูุฉ ุชุญุชูู ุนูู ุจูุงูุงุช ุญุณุงุณุฉ ุนูู ูุณุชูุฏุน ุนุงู
   - ุงุณุชุฎุฏู ูุณุชูุฏุน ุฎุงุต ุฃู ูุดูุฑ
   - ููุฑ ูู ุชุดููุฑ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ

2. **ุงูุงุณุชุนุงุฏุฉ**:
   - ุชุฃูุฏ ุฏุงุฆูุงู ูู ูุฌูุฏ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุจู ุงูุงุณุชุนุงุฏุฉ
   - ุงุฎุชุจุฑ ุงูุงุณุชุนุงุฏุฉ ุนูู ุจูุฆุฉ ุชุทููุฑ ุฃููุงู
   - ุฑุงุฌุน ูุญุชูู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ูุจู ุงูุงุณุชุนุงุฏุฉ

3. **ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ**:
   - ูุง ุชุฑูุน ูููุงุช ุงููุฑูุฑ ุฃู ุงูููุงุชูุญ ูู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
   - ุงุณุชุฎุฏู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ููุจูุงูุงุช ุงูุญุณุงุณุฉ
   - ููุฑ ูู ุงุณุชุฎุฏุงู ุฃุฏูุงุช ุฅุฏุงุฑุฉ ุงูุฃุณุฑุงุฑ

## ๐ ุญุฌู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ

### ุชูุฏูุฑ ุงูุญุฌู:

- ูุงุนุฏุฉ ุจูุงูุงุช ุตุบูุฑุฉ (< 100 MB): ููุงุณุจ ููุฑูุน ุนูู Git
- ูุงุนุฏุฉ ุจูุงูุงุช ูุชูุณุทุฉ (100 MB - 500 MB): ูุฏ ูููู ุจุทูุฆุงู
- ูุงุนุฏุฉ ุจูุงูุงุช ูุจูุฑุฉ (> 500 MB): ุบูุฑ ููุตู ุจู ููุฑูุน ุนูู Git

### ุจุฏุงุฆู ููููุงุนุฏ ุงููุจูุฑุฉ:

1. ุงุณุชุฎุฏุงู Git LFS
2. ุฑูุน ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุนูู ุฎุฏูุฉ ุชุฎุฒูู ุณุญุงุจู
3. ุงุณุชุฎุฏุงู ุฃุฏูุงุช ุงููุณุฎ ุงูุงุญุชูุงุทู ุงููุชุฎุตุตุฉ

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ ูุญููููุง:

#### 1. ูุดู ุงููุณุฎ ุงูุงุญุชูุงุทู
```
โ ุฎุทุฃ: ูุดู ุฃุฎุฐ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ
```
**ุงูุญู:**
- ุชุญูู ูู ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชุฃูุฏ ูู ูุฌูุฏ ุตูุงุญูุงุช ูุงููุฉ
- ุชุญูู ูู ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุฌูุฏุฉ

#### 2. ูุดู ุงูุฑูุน ุนูู Git
```
โ ุฎุทุฃ: ูุดู ุฑูุน ุงูุชุบููุฑุงุช
```
**ุงูุญู:**
- ุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
- ุชุญูู ูู ุตูุงุญูุงุช ุงูุฑูุน
- ุชุญูู ูู ุญุฌู ุงููููุงุช

#### 3. ูุดู ุงูุงุณุชุนุงุฏุฉ
```
โ ุฎุทุฃ: ูุดู ุงุณุชุนุงุฏุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```
**ุงูุญู:**
- ุชุญูู ูู ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุฌูุฏุฉ
- ุชุญูู ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏู
- ุชุฃูุฏ ูู ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงุฑุบุฉ ุฃู ุฃูู ุชุฑูุฏ ุงุณุชุจุฏุงููุง

## ๐ ูุฑุงุฌุน ุฅุถุงููุฉ

- [ุฏููู ุงููุณุฎ ุงูุงุญุชูุงุทู](BACKUP_AND_PUSH_README.md)
- [ุฏููู ุงูุงุณุชุนุงุฏุฉ](RESTORE_FROM_GIT_README.md)
- [Git Documentation](https://git-scm.com/doc)
- [MySQL Documentation](https://dev.mysql.com/doc/)
- [PostgreSQL Documentation](https://www.postgresql.org/docs/)

## ๐ค ุงููุณุงููุฉ

ุฅุฐุง ูุงุฌูุช ูุดุงูู ุฃู ูุฏูู ุงูุชุฑุงุญุงุช:
1. ุฑุงุฌุน ุงููุซุงุฆู ุฃููุงู
2. ุชุญูู ูู ุงููุดุงูู ุงููุนุฑููุฉ
3. ุงูุชุญ issue ุฌุฏูุฏ ูุน ุชูุงุตูู ุงููุดููุฉ

## ๐ ููุงุญุธุงุช

- ุงูุณูุฑูุจุชุงุช ุชุฏุนู MySQL/MariaDB ู PostgreSQL
- ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุชูุญูุธ ูู `database_backups/`
- ุงููููุงุช ุงููุถุบูุทุฉ ุชููุฑ ูุณุงุญุฉ ูุจูุฑุฉ
- ุงูุณูุฑูุจุชุงุช ุชุทูุจ ุชุฃููุฏ ูุจู ุงุณุชุจุฏุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2024-11-19

