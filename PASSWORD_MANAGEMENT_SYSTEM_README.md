# ๐ Password Management System

## ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุฅุฏุงุฑุฉ ูููุงุช ุงููุฑูุฑ ุงูุขูู ููููุธููู ูู ูุธุงู ูุชูุงูู ูุณูุญ ูููุฏูุฑูู ุจุชุฎุฒูู ูุฅุฏุงุฑุฉ ูููุงุช ุงููุฑูุฑ ููููุธููู ุจุทุฑููุฉ ุขููุฉ ููุดูุฑุฉ. ูุฏุนู ุงููุธุงู ุงูุชุฑุฌูุฉ ุงููุงููุฉ (ุงูุนุฑุจูุฉ/ุงูุฅูุฌููุฒูุฉ) ููููุฑ ูุงุฌูุฉ ูุณุชุฎุฏู ุญุฏูุซุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู.

## โจ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ ุงูุฃูุงู
- **ุชุดููุฑ ูููุงุช ุงููุฑูุฑ**: ุฌููุน ูููุงุช ุงููุฑูุฑ ูุดูุฑุฉ ุจุงุณุชุฎุฏุงู Laravel Crypt
- **ุชุญูู ูู ุงูุตูุงุญูุงุช**: ูุธุงู ุฃุฏูุงุฑ ูุชูุฏู ููุชุญูู ูู ุงููุตูู
- **ุณุฌู ุงูุชุฏููู**: ุชุชุจุน ุฌููุน ุงูุนูููุงุช ูุงูุฃูุดุทุฉ
- **ุชุงุฑูุฎ ูููุงุช ุงููุฑูุฑ**: ุญูุธ ุชุงุฑูุฎ ุชุบููุฑุงุช ูููุงุช ุงููุฑูุฑ

### ๐ฅ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
- **ุชุฎุตูุต ุงูุญุณุงุจุงุช**: ุฅููุงููุฉ ุชุฎุตูุต ุงูุญุณุงุจุงุช ููููุธููู
- **ูุณุชููุงุช ุงููุตูู**: ูุฑุงุกุฉ ููุท ุฃู ุฅุฏุงุฑุฉ ูุงููุฉ
- **ุญุณุงุจุงุช ูุดุชุฑูุฉ**: ุฏุนู ุงูุญุณุงุจุงุช ุงููุดุชุฑูุฉ ุจูู ุนุฏุฉ ููุธููู

### ๐ ุงูุชุฑุฌูุฉ ูุงูุฏุนู ุงููุบูู
- **ุฏุนู ูุงูู ููุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ**: ุฌููุน ุงููุตูุต ูุงุจูุฉ ููุชุฑุฌูุฉ
- **ูุงุฌูุฉ RTL**: ุฏุนู ูุงูู ูููุชุงุจุฉ ูู ุงููููู ูููุณุงุฑ
- **ุชุฑุฌูุฉ ุฏููุงููููุฉ**: ุชุบููุฑ ุงููุบุฉ ูู ุงูููุช ุงููุนูู

### ๐ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช
- **ููุญุฉ ุฅุญุตุงุฆูุงุช**: ุนุฑุถ ุฅุญุตุงุฆูุงุช ุดุงููุฉ
- **ุชุตููุฉ ูุชูุฏูุฉ**: ุจุญุซ ูุชุตููุฉ ุญุณุจ ุงููุฆุฉ ูุงูุญุงูุฉ
- **ุชุตุฏูุฑ ุงูุจูุงูุงุช**: ุฅููุงููุฉ ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ

## ๐๏ธ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ

#### 1. password_accounts
```sql
- id (Primary Key)
- name (ุงุณู ุงูุญุณุงุจ)
- name_ar (ุงุณู ุงูุญุณุงุจ ุจุงูุนุฑุจูุฉ)
- email (ุงูุจุฑูุฏ ุงูุฅููุชุฑููู/ุงุณู ุงููุณุชุฎุฏู)
- password (ูููุฉ ุงููุฑูุฑ ุงููุดูุฑุฉ)
- url (ุฑุงุจุท ุชุณุฌูู ุงูุฏุฎูู)
- notes (ููุงุญุธุงุช)
- notes_ar (ููุงุญุธุงุช ุจุงูุนุฑุจูุฉ)
- requires_2fa (ูุชุทูุจ ูุตุงุฏูุฉ ุซูุงุฆูุฉ)
- expires_at (ุชุงุฑูุฎ ุงูุชูุงุก ุงูุตูุงุญูุฉ)
- is_shared (ุญุณุงุจ ูุดุชุฑู)
- is_active (ูุดุท)
- category (ุงููุฆุฉ)
- category_ar (ุงููุฆุฉ ุจุงูุนุฑุจูุฉ)
- icon (ุงูุฃููููุฉ)
- metadata (ุจูุงูุงุช ุฅุถุงููุฉ)
- created_by (ุฃูุดุฃ ุจูุงุณุทุฉ)
- created_at, updated_at
```

#### 2. password_assignments
```sql
- id (Primary Key)
- account_id (ูุนุฑู ุงูุญุณุงุจ)
- user_id (ูุนุฑู ุงููุณุชุฎุฏู)
- access_level (ูุณุชูู ุงููุตูู: read_only/manage)
- can_view_password (ูููู ุนุฑุถ ูููุฉ ุงููุฑูุฑ)
- can_edit_password (ูููู ุชุนุฏูู ูููุฉ ุงููุฑูุฑ)
- can_delete_account (ูููู ุญุฐู ุงูุญุณุงุจ)
- assigned_at (ุชุงุฑูุฎ ุงูุชุฎุตูุต)
- assigned_by (ุฎุตุต ุจูุงุณุทุฉ)
- revoked_at (ุชุงุฑูุฎ ุงูุฅูุบุงุก)
- revoked_by (ุฃูุบู ุจูุงุณุทุฉ)
- revoke_reason (ุณุจุจ ุงูุฅูุบุงุก)
- created_at, updated_at
```

#### 3. password_audit_logs
```sql
- id (Primary Key)
- account_id (ูุนุฑู ุงูุญุณุงุจ)
- user_id (ูุนุฑู ุงููุณุชุฎุฏู)
- action (ุงูุฅุฌุฑุงุก)
- description (ุงููุตู)
- description_ar (ุงููุตู ุจุงูุนุฑุจูุฉ)
- old_values (ุงูููู ุงููุฏููุฉ)
- new_values (ุงูููู ุงูุฌุฏูุฏุฉ)
- ip_address (ุนููุงู IP)
- user_agent (ูููู ุงููุณุชุฎุฏู)
- performed_at (ุชุงุฑูุฎ ุงูุชูููุฐ)
- created_at, updated_at
```

#### 4. password_history
```sql
- id (Primary Key)
- account_id (ูุนุฑู ุงูุญุณุงุจ)
- old_password (ูููุฉ ุงููุฑูุฑ ุงููุฏููุฉ ุงููุดูุฑุฉ)
- new_password (ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ ุงููุดูุฑุฉ)
- changed_by (ุบูุฑ ุจูุงุณุทุฉ)
- change_reason (ุณุจุจ ุงูุชุบููุฑ)
- change_reason_ar (ุณุจุจ ุงูุชุบููุฑ ุจุงูุนุฑุจูุฉ)
- changed_at (ุชุงุฑูุฎ ุงูุชุบููุฑ)
- created_at, updated_at
```

## ๐ ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. ุชุดุบูู ุงูู Migrations
```bash
php artisan migrate --path=database/migrations/2025_09_28_084531_create_password_accounts_table.php
php artisan migrate --path=database/migrations/2025_09_28_084534_create_password_assignments_table.php
php artisan migrate --path=database/migrations/2025_09_28_084537_create_password_audit_logs_table.php
php artisan migrate --path=database/migrations/2025_09_28_084540_create_password_history_table.php
```

### 2. ุฅุถุงูุฉ ุงูู Routes
ุชู ุฅุถุงูุฉ ุงูู Routes ุชููุงุฆูุงู ูู `routes/web.php`:

```php
Route::middleware(['auth'])->group(function () {
    // Password Accounts
    Route::resource('password-accounts', PasswordAccountController::class);
    Route::get('password-accounts/{passwordAccount}/password', [PasswordAccountController::class, 'showPassword']);
    
    // Password Assignments
    Route::resource('password-assignments', PasswordAssignmentController::class);
    Route::post('password-assignments/{account}/assign', [PasswordAssignmentController::class, 'assign']);
    Route::delete('password-assignments/{assignment}/revoke', [PasswordAssignmentController::class, 'revoke']);
    
    // Password Audit Logs
    Route::get('password-audit', [PasswordAuditController::class, 'index']);
    Route::get('password-audit/{account}', [PasswordAuditController::class, 'accountLogs']);
});
```

### 3. ุฅุถุงูุฉ ูููุงุช ุงูุชุฑุฌูุฉ
ุชู ุฅูุดุงุก ูููุงุช ุงูุชุฑุฌูุฉ ูู:
- `lang/ar/passwords.php`
- `lang/en/passwords.php`

## ๐ฏ ุงูุงุณุชุฎุฏุงู

### ูููุฏูุฑูู (Admins/Managers)

1. **ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ**:
   - ุงูุชูู ุฅูู "ุฅุฏุงุฑุฉ ูููุงุช ุงููุฑูุฑ"
   - ุงุถุบุท ุนูู "ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ"
   - ุงููุฃ ุงูุจูุงูุงุช ุงููุทููุจุฉ
   - ุงุฎุชุฑ ุงููุณุชุฎุฏููู ุงููุฎุตุตูู

2. **ุชุฎุตูุต ุงูุญุณุงุจุงุช**:
   - ูููู ุชุฎุตูุต ุงูุญุณุงุจุงุช ููููุธููู
   - ุชุญุฏูุฏ ูุณุชูู ุงููุตูู (ูุฑุงุกุฉ ููุท/ุฅุฏุงุฑุฉ)
   - ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช ุงูุชูุตูููุฉ

3. **ูุฑุงูุจุฉ ุงูุฃูุดุทุฉ**:
   - ุนุฑุถ ุณุฌู ุงูุชุฏููู
   - ุชุชุจุน ุชุบููุฑุงุช ูููุงุช ุงููุฑูุฑ
   - ูุฑุงูุจุฉ ุงููุตูู

### ููููุธููู (Employees)

1. **ุนุฑุถ ุงูุญุณุงุจุงุช ุงููุฎุตุตุฉ**:
   - ุงูุชูู ุฅูู "ุฅุฏุงุฑุฉ ูููุงุช ุงููุฑูุฑ"
   - ุนุฑุถ ุงูุญุณุงุจุงุช ุงููุฎุตุตุฉ ูู ููุท

2. **ุนุฑุถ ูููุงุช ุงููุฑูุฑ**:
   - ุงุถุบุท ุนูู ุฒุฑ "ุนุฑุถ ูููุฉ ุงููุฑูุฑ"
   - ุณูุชู ุชุณุฌูู ุงูุนูููุฉ ูู ุณุฌู ุงูุชุฏููู

## ๐ง ุงูุชุฎุตูุต ูุงูุชุทููุฑ

### ุฅุถุงูุฉ ูุฆุงุช ุฌุฏูุฏุฉ
```php
// ูู PasswordAccountController
private function getCategories()
{
    return [
        'New Category' => __('New Category'),
        // ... ูุฆุงุช ุฃุฎุฑู
    ];
}
```

### ุฅุถุงูุฉ ุตูุงุญูุงุช ุฌุฏูุฏุฉ
```php
// ูู PasswordAccountPolicy
public function newPermission(User $user, PasswordAccount $passwordAccount): bool
{
    // ููุทู ุงูุตูุงุญูุฉ ุงูุฌุฏูุฏุฉ
}
```

### ุชุฎุตูุต ุงูุชุดููุฑ
```php
// ูู PasswordAccount model
public function setPasswordAttribute($value)
{
    // ุงุณุชุฎุฏุงู ุฎูุงุฑุฒููุฉ ุชุดููุฑ ูุฎุตุตุฉ
    $this->attributes['password'] = encrypt($value);
}
```

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
```bash
# ุงุฎุชุจุงุฑ ุงููุธุงู ุงูุฃุณุงุณู
php test-password-system.php

# ุงุฎุชุจุงุฑุงุช Playwright
npx playwright test tests/password-management-system.spec.js
```

### ุงุฎุชุจุงุฑุงุช ุงูุชุบุทูุฉ
- โ ุฅูุดุงุก ุงูุญุณุงุจุงุช
- โ ุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- โ ุชุฎุตูุต ุงููุณุชุฎุฏููู
- โ ุณุฌู ุงูุชุฏููู
- โ ุงูุชุฑุฌูุฉ
- โ ูุงุฌูุฉ ุงููุณุชุฎุฏู
- โ ุงูุฃูุงู ูุงูุตูุงุญูุงุช

## ๐ฑ ุงููุงุฌูุฉ

### ุงูุตูุญุงุช ุงูุฑุฆูุณูุฉ
1. **ูุงุฆูุฉ ุงูุญุณุงุจุงุช** (`/password-accounts`)
2. **ุฅูุดุงุก ุญุณุงุจ** (`/password-accounts/create`)
3. **ุชุนุฏูู ุญุณุงุจ** (`/password-accounts/{id}/edit`)
4. **ุนุฑุถ ุญุณุงุจ** (`/password-accounts/{id}`)
5. **ุณุฌู ุงูุชุฏููู** (`/password-audit`)

### ุงูููููุงุช
- **ุฅุญุตุงุฆูุงุช**: ุนุฑุถ ุฅุญุตุงุฆูุงุช ุดุงููุฉ
- **ุชุตููุฉ**: ุจุญุซ ูุชุตููุฉ ูุชูุฏูุฉ
- **ููุฏุงู ูููุฉ ุงููุฑูุฑ**: ุนุฑุถ ุขูู ููููุงุช ุงููุฑูุฑ
- **ูููุฐุฌ ุฅูุดุงุก**: ูููุฐุฌ ุดุงูู ูุฅูุดุงุก ุงูุญุณุงุจุงุช

## ๐ ุงูุฃูุงู

### ุงูุชุดููุฑ
- ุฌููุน ูููุงุช ุงููุฑูุฑ ูุดูุฑุฉ ุจุงุณุชุฎุฏุงู Laravel Crypt
- ูุง ูููู ูู ุชุดููุฑ ูููุงุช ุงููุฑูุฑ ุฅูุง ุนูุฏ ุงูุนุฑุถ
- ูุชู ุชุณุฌูู ุฌููุน ุนูููุงุช ุนุฑุถ ูููุงุช ุงููุฑูุฑ

### ุงูุตูุงุญูุงุช
- ูุธุงู ุฃุฏูุงุฑ ูุชูุฏู
- ุชุญูู ุฏููู ูู ุงูุตูุงุญูุงุช
- ูุตู ุจูู ุงููุณุชุฎุฏููู ูุงููุฏูุฑูู

### ุงููุฑุงูุจุฉ
- ุณุฌู ุชุฏููู ุดุงูู
- ุชุชุจุน ุฌููุน ุงูุนูููุงุช
- ุญูุธ ุชุงุฑูุฎ ุงูุชุบููุฑุงุช

## ๐ ุงูุชุฑุฌูุฉ

### ุฅุถุงูุฉ ุชุฑุฌูุงุช ุฌุฏูุฏุฉ
```php
// ูู lang/ar/passwords.php
'new_key' => 'ุงููุต ุจุงูุนุฑุจูุฉ',

// ูู lang/en/passwords.php
'new_key' => 'English Text',
```

### ุงุณุชุฎุฏุงู ุงูุชุฑุฌูุฉ
```php
// ูู Blade templates
{{ __('passwords.new_key') }}

// ูู Controllers
__('passwords.new_key')
```

## ๐ ุงูุชูุงุฑูุฑ

### ุงูุฅุญุตุงุฆูุงุช ุงููุชุงุญุฉ
- ุฅุฌูุงูู ุงูุญุณุงุจุงุช
- ุงูุญุณุงุจุงุช ุงููุดุทุฉ
- ุงูุญุณุงุจุงุช ุงูููุชููุฉ ุงูุตูุงุญูุฉ
- ุงูุญุณุงุจุงุช ุงูุชู ุชูุชูู ูุฑูุจุงู
- ุงูุญุณุงุจุงุช ุงููุดุชุฑูุฉ

### ุงูุชุตุฏูุฑ
- ุชุตุฏูุฑ CSV
- ุชุตุฏูุฑ Excel
- ุชุตุฏูุฑ PDF (ูุฑูุจุงู)

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ุงููููุฒุงุช ุงููุฎุทุทุฉ
- [ ] ุฅุดุนุงุฑุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- [ ] ุชุทุจูู ุงููุงุชู ุงููุญููู
- [ ] API ูููุตูู ุงูุฎุงุฑุฌู
- [ ] ุชูุงูู ูุน ุฃูุธูุฉ ุงููุตุงุฏูุฉ ุงูุฎุงุฑุฌูุฉ
- [ ] ุชูุงุฑูุฑ ูุชูุฏูุฉ
- [ ] ูุณุฎ ุงุญุชูุงุทู ุชููุงุฆู

### ุงูุชุญุณููุงุช
- [ ] ุชุญุณูู ุงูุฃุฏุงุก
- [ ] ูุงุฌูุฉ ูุณุชุฎุฏู ูุญุณูุฉ
- [ ] ุฏุนู ุงููุฒูุฏ ูู ุงููุบุงุช
- [ ] ุชูุงูู ูุน ุฃูุธูุฉ ุฅุฏุงุฑุฉ ุงููููุฉ

## ๐ ุงูุฏุนู

ููุญุตูู ุนูู ุงูุฏุนู ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:
1. ุชุญูู ูู ุณุฌู ุงูุฃุฎุทุงุก
2. ุฑุงุฌุน ูุฐุง ุงูุฏููู
3. ุงุชุตู ุจูุฑูู ุงูุชุทููุฑ

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุธุงู ุฌุฒุก ูู ูุธุงู ุฅุฏุงุฑุฉ ุงูููุธููู ููุฎุถุน ูููุณ ุดุฑูุท ุงูุชุฑุฎูุต.

---

**ุชู ุชุทููุฑ ูุฐุง ุงููุธุงู ุจูุงุณุทุฉ ูุฑูู ุงูุชุทููุฑ** ๐
