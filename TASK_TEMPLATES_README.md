# إدارة قوالب المهام - Task Templates Management

## نظرة عامة
تم إنشاء نظام إدارة قوالب المهام بالكامل مع عمليات CRUD الكاملة. يتيح هذا النظام للمستخدمين إنشاء وإدارة قوالب مهام معيارية يمكن استخدامها عند إنشاء مهام جديدة.

## الميزات المتاحة

### 1. عرض قائمة القوالب (`/zoho/task-templates`)
- عرض جميع قوالب المهام مع إحصائيات شاملة
- البحث والتصفية حسب القسم والحالة
- ترتيب القوالب حسب معايير مختلفة
- عرض عدد الاستخدامات لكل قالب

### 2. إنشاء قالب جديد (`/zoho/task-templates/create`)
- إدخال اسم القالب باللغتين العربية والإنجليزية
- اختيار القسم المناسب
- تحديد الوقت المقدر للمهمة
- إضافة وصف مفصل
- تحديد حالة القالب (نشط/غير نشط)

### 3. تعديل القوالب (`/zoho/task-templates/{id}/edit`)
- تعديل جميع تفاصيل القالب
- عرض معلومات إضافية مثل تاريخ الإنشاء وعدد الاستخدامات
- التحقق من إمكانية الحذف

### 4. عرض تفاصيل القالب (`/zoho/task-templates/{id}`)
- عرض جميع تفاصيل القالب
- إحصائيات الاستخدام
- قائمة المهام التي تستخدم هذا القالب

### 5. حذف القوالب
- حذف القوالب غير المستخدمة
- منع حذف القوالب المستخدمة في مهام موجودة

### 6. استيراد القوالب من CSV
- رفع ملف CSV لاستيراد قوالب متعددة
- دعم تنسيق CSV مع التحقق من صحة البيانات

## الأقسام المدعومة
- Contracting (المقاولات)
- IT (تكنولوجيا المعلومات)
- Internet dep (قسم الإنترنت)
- Accounting (المحاسبة)
- Callcenter (مركز الاتصال)
- Marketing (التسويق)

## الصلاحيات المطلوبة
- `manage-tasks`: لإدارة القوالب (إنشاء، تعديل، حذف)
- عرض القوالب متاح لجميع المستخدمين المسجلين

## الملفات المنشأة/المحدثة

### Models
- `app/Models/TaskTemplate.php` - نموذج قالب المهمة

### Controllers
- `app/Http/Controllers/TaskTemplateController.php` - تحكم قوالب المهام

### Views
- `resources/views/task-templates/index.blade.php` - صفحة القائمة
- `resources/views/task-templates/create.blade.php` - صفحة الإنشاء
- `resources/views/task-templates/edit.blade.php` - صفحة التعديل
- `resources/views/task-templates/show.blade.php` - صفحة التفاصيل

### Database
- `database/migrations/2025_10_14_093925_create_task_templates_table.php` - جدول قوالب المهام

### Translations
- `resources/lang/en/messages.php` - الترجمات الإنجليزية
- `resources/lang/ar/messages.php` - الترجمات العربية

### Routes
- تم إضافة جميع الـ routes في `routes/web.php` تحت المجموعة `zoho/task-templates`

## كيفية الاستخدام

1. **الوصول للصفحة**: انتقل إلى `/zoho/task-templates`
2. **إنشاء قالب جديد**: اضغط على "إضافة قالب جديد"
3. **تعديل قالب**: اضغط على أيقونة التعديل في القائمة
4. **عرض التفاصيل**: اضغط على أيقونة العين
5. **حذف قالب**: اضغط على أيقونة الحذف (إذا كان غير مستخدم)

## ملاحظات مهمة
- القوالب النشطة فقط ستظهر في قائمة اختيار القوالب عند إنشاء مهام جديدة
- لا يمكن حذف القوالب المستخدمة في مهام موجودة
- النظام يدعم اللغتين العربية والإنجليزية
- يمكن تصدير القوالب واستيرادها من ملفات CSV
