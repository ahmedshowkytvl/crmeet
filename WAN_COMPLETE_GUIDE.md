# ุฏููู ุฅุนุฏุงุฏ ุงููุธุงู ููุดุจูุฉ ุงููุงุณุนุฉ (WAN) - ูุธุงู ุฅุฏุงุฑุฉ ุงูููุธููู

## ๐ฏ ุงููุฏู
ุฅุนุฏุงุฏ ูุธุงู ุฅุฏุงุฑุฉ ุงูููุธููู ููุนูู ุนูู ุงูุดุจูุฉ ุงููุงุณุนุฉ ุญุชู ูุชููู ุฒููุงุคู ูู ุงููุตูู ุฅููู ูู ุฎุงุฑุฌ ุงูุดุจูุฉ ุงููุญููุฉ.

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
- โ XAMPP ูุซุจุช ูููุดุบู
- โ Laravel Framework
- โ PostgreSQL Database
- โ ุงุชุตุงู ุฅูุชุฑูุช ูุณุชูุฑ
- โ ูุนุฑูุฉ ุนููุงู IP ุงูุนุงู ูุฌูุงุฒู
- โ ุตูุงุญูุงุช ุฅุฏุงุฑูุฉ ุนูู ุงูุฌูุงุฒ

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### ุงูุฎุทูุฉ 1: ุชุดุบูู ุฃุฏุงุฉ ุงูุฅุนุฏุงุฏ ุงูุชููุงุฆู
```bash
# ุชุดุบูู ุฃุฏุงุฉ ุงูุฅุนุฏุงุฏ ุงูุชููุงุฆู
php wan-setup-tool.php

# ุฃู ุงุณุชุฎุฏุงู ุงูููู ุงููุฌูุน
wan-setup.bat
```

### ุงูุฎุทูุฉ 2: ุชูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
# ุชุดุบูู ุชูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช
configure-database-wan.bat

# ุชูููุฐ SQL ุงููุทููุจ
psql -h localhost -U postgres -d CRM_ALL -f database-wan-setup.sql
```

### ุงูุฎุทูุฉ 3: ุชูููู ุฌุฏุงุฑ ุงูุญูุงูุฉ
```bash
# ูุชุญ ุงูููุงูุฐ ุงููุทููุจุฉ
configure-firewall-wan.bat
```

### ุงูุฎุทูุฉ 4: ุจุฏุก ุงูุฎูุงุฏู
```bash
# ุจุฏุก ุฌููุน ุงูุฎูุงุฏู
start-wan-servers.bat
```

## ๐ ุงููููุงุช ุงููุทููุจุฉ

### ูููุงุช ุงูุฅุนุฏุงุฏ ุงูุฃุณุงุณูุฉ
- `wan-setup.bat` - ููู ุงูุฅุนุฏุงุฏ ุงูุฑุฆูุณู
- `wan-setup-tool.php` - ุฃุฏุงุฉ ุงูุฅุนุฏุงุฏ ุงูุชููุงุฆู
- `WAN_SETUP_GUIDE.md` - ูุฐุง ุงูุฏููู

### ูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `database-wan-setup.sql` - ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `configure-database-wan.bat` - ุชูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ูููุงุช ุฌุฏุงุฑ ุงูุญูุงูุฉ
- `configure-firewall-wan.bat` - ูุชุญ ุงูููุงูุฐ
- `remove-firewall-wan.bat` - ุฅุฒุงูุฉ ุงูููุงุนุฏ

### ูููุงุช ุงูุชุดุบูู
- `start-wan-servers.bat` - ุจุฏุก ุฌููุน ุงูุฎูุงุฏู
- `start-server-network.bat` - ุจุฏุก ุฎุงุฏู Laravel ููุท

## ๐ ุนูุงููู ุงููุตูู

### ูู ุงูุดุจูุฉ ุงููุญููุฉ
- `http://192.168.15.29:8000` (ุงูุดุจูุฉ ุงูุฑุฆูุณูุฉ)
- `http://192.168.99.1:8000` (VirtualBox)
- `http://192.168.172.1:8000` (VMware VMnet1)
- `http://192.168.254.1:8000` (VMware VMnet8)

### ูู ุฎุงุฑุฌ ุงูุดุจูุฉ ุงููุญููุฉ
- `http://YOUR_PUBLIC_IP:8000`

## ๐ง ุงูุฅุนุฏุงุฏุงุช ุงููุทููุจุฉ

### 1. ููู .env
```env
APP_URL=http://0.0.0.0:8000
DB_HOST=0.0.0.0
WAN_ENABLED=true
WAN_PORT=8000
WAN_HOST=0.0.0.0
```

### 2. PostgreSQL (postgresql.conf)
```conf
listen_addresses = '*'
port = 5432
```

### 3. PostgreSQL (pg_hba.conf)
```conf
host    CRM_ALL    wan_user    0.0.0.0/0    md5
host    CRM_ALL    postgres   0.0.0.0/0    md5
```

### 4. ุฌุฏุงุฑ ุงูุญูุงูุฉ Windows
```bash
# ุงูููุงูุฐ ุงููุทููุจุฉ
8000 - Laravel Development Server
80   - Apache HTTP Server
5432 - PostgreSQL Database
8080 - WebSocket Server
443  - HTTPS (ุงุฎุชูุงุฑู)
```

## ๐ ุงูุฃูุงู

### ูุตุงุฆุญ ุงูุฃูุงู ุงูุฃุณุงุณูุฉ
1. **ุชุบููุฑ ูููุงุช ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ**
2. **ุงุณุชุฎุฏุงู HTTPS ูู ุงูุฅูุชุงุฌ**
3. **ุชูููุฏ ุงููุตูู ุญุณุจ IP ุฅุฐุง ุฃููู**
4. **ูุฑุงูุจุฉ ุณุฌูุงุช ุงููุตูู**
5. **ุชุญุฏูุซ ุงููุธุงู ุจุงูุชุธุงู**

### ุฅุนุฏุงุฏุงุช ุงูุฃูุงู ุงููุชูุฏูุฉ
```apache
# ูู Apache - ุชูููุฏ ุงููุตูู ุญุณุจ IP
<RequireAll>
    Require ip 192.168.15.0/24
    Require ip YOUR_COLLEGE_IP_RANGE
</RequireAll>
```

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ: ูุง ูููู ุงููุตูู ูู ุงูุฎุงุฑุฌ
**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**
- ุงูููุงูุฐ ุบูุฑ ููุชูุญุฉ ูู ุฌุฏุงุฑ ุงูุญูุงูุฉ
- ุงูุฑุงูุชุฑ ูุง ูุฏุนู Port Forwarding
- ISP ูุญุฌุจ ุงูููุงูุฐ

**ุงูุญููู:**
1. ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุฌุฏุงุฑ ุงูุญูุงูุฉ
2. ูู ุจุฅุนุฏุงุฏ Port Forwarding ูู ุงูุฑุงูุชุฑ
3. ุงุชุตู ุจู ISP ููุชุญ ุงูููุงูุฐ

### ูุดููุฉ: ูุงุนุฏุฉ ุงูุจูุงูุงุช ุบูุฑ ูุชุงุญุฉ
**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**
- ุฅุนุฏุงุฏุงุช PostgreSQL ุบูุฑ ุตุญูุญุฉ
- ููู pg_hba.conf ูุญุชุงุฌ ุชุญุฏูุซ
- ุฎุฏูุฉ PostgreSQL ูุชูููุฉ

**ุงูุญููู:**
1. ุชุญูู ูู ุฅุนุฏุงุฏุงุช PostgreSQL
2. ุฃุนุฏ ุชุดุบูู ุฎุฏูุฉ PostgreSQL
3. ุงุฎุชุจุฑ ุงูุงุชุตุงู: `psql -h localhost -U postgres`

### ูุดููุฉ: ุจุทุก ูู ุงูุงุณุชุฌุงุจุฉ
**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**
- ุงุณุชุฎุฏุงู Development Server
- ุนุฏู ุชูุนูู ุงูุชุฎุฒูู ุงููุคูุช
- ูุดุงูู ูู ุงูุดุจูุฉ

**ุงูุญููู:**
1. ุงุณุชุฎุฏู ุฎุงุฏู ุฅูุชุงุฌ (Apache/Nginx)
2. ูุนูู ุงูุชุฎุฒูู ุงููุคูุช ูู Laravel
3. ุงุณุชุฎุฏู CDN ูููููุงุช ุงูุซุงุจุชุฉ

## ๐ ุงููุฑุงูุจุฉ ูุงูุตูุงูุฉ

### ูุฑุงูุจุฉ ุงููุธุงู
- ุงุณุชุฎุฏู WebSocket Server ุงููุฏูุฌ ูููุฑุงูุจุฉ
- ุฑุงูุจ ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ ูุงููุนุงูุฌ
- ุชุญูู ูู ุณุฌูุงุช ุงูุฃุฎุทุงุก ุจุงูุชุธุงู

### ุงููุณุฎ ุงูุงุญุชูุงุทู
```bash
# ูุณุฎ ุงุญุชูุงุทู ููุงุนุฏุฉ ุงูุจูุงูุงุช
pg_dump -h localhost -U postgres CRM_ALL > backup_$(date +%Y%m%d).sql

# ูุณุฎ ุงุญุชูุงุทู ูููููุงุช
tar -czf files_backup_$(date +%Y%m%d).tar.gz storage/ public/
```

### ุงูุตูุงูุฉ ุงูุฏูุฑูุฉ
- ุชูุธูู ุณุฌูุงุช ุงูุฃุฎุทุงุก ุงููุฏููุฉ
- ุชุญุฏูุซ ุงููุธุงู ูุงูููุชุจุงุช
- ูุฑุงุฌุนุฉ ุฅุนุฏุงุฏุงุช ุงูุฃูุงู
- ุงุฎุชุจุงุฑ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ

## ๐ ุงูุฅุฑุฌุงุน ููุฅุนุฏุงุฏุงุช ุงูุฃุตููุฉ

### ุฅุฒุงูุฉ ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ ุงููุงุณุนุฉ
```bash
# ุฅุฒุงูุฉ ููุงุนุฏ ุฌุฏุงุฑ ุงูุญูุงูุฉ
remove-firewall-wan.bat

# ุงุณุชุนุงุฏุฉ ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฃุตููุฉ
copy "C:\Program Files\PostgreSQL\13\data\postgresql.conf.backup" "C:\Program Files\PostgreSQL\13\data\postgresql.conf"
copy "C:\Program Files\PostgreSQL\13\data\pg_hba.conf.backup" "C:\Program Files\PostgreSQL\13\data\pg_hba.conf"

# ุงุณุชุนุงุฏุฉ ููู .env ุงูุฃุตูู
php wan-setup-tool.php restore
```

## ๐ ุงูุฏุนู ุงูููู

### ุฃุฏูุงุช ุงูุชุดุฎูุต
```bash
# ูุญุต ุงูููุงูุฐ ุงูููุชูุญุฉ
netstat -an | findstr ":8000"

# ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
telnet YOUR_IP 8000

# ูุญุต ุญุงูุฉ ุงูุฎุฏูุงุช
net start | findstr "postgresql"
```

### ุงูููุงุฑุฏ ุงููููุฏุฉ
- [ูุญุต IP ุงูุนุงู](https://whatismyipaddress.com/)
- [ุงุฎุชุจุงุฑ ุงูููุงูุฐ](https://www.yougetsignal.com/tools/open-ports/)
- [ุฏููู Laravel Deployment](https://laravel.com/docs/deployment)

## โ๏ธ ุชุญุฐูุฑุงุช ูููุฉ

1. **ุชุฃูุฏ ูู ุงูุญุตูู ุนูู ุฅุฐู ูู ูุฏูุฑ ุงูุดุจูุฉ**
2. **ูุง ุชูุชุญ ุงูููุงูุฐ ููุนุงูุฉ ุฏูู ุญูุงูุฉ ููุงุณุจุฉ**
3. **ุงุณุชุฎุฏู ูููุงุช ูุฑูุฑ ูููุฉ**
4. **ุฑุงูุจ ุงููุตูู ุจุงูุชุธุงู**
5. **ุงุญุชูุธ ุจูุณุฎ ุงุญุชูุงุทูุฉ ูุญุฏุซุฉ**

---

**ููุงุญุธุฉ:** ูุฐุง ุงูุฏููู ูุฎุตุต ููุงุณุชุฎุฏุงู ูู ุจูุฆุฉ ุขููุฉ ููุนุฑูุฉ ุชูููุฉ ููุงุณุจุฉ. ุชุฃูุฏ ูู ููู ุฌููุน ุงูุฎุทูุงุช ูุจู ุงูุชูููุฐ.





